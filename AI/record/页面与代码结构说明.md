# 页面与代码结构说明（SwiftUI）

> 本文档梳理了项目中每个页面对应的 Swift 代码位置。

```
wallpaper/
├─ wallpaperApp.swift              // 应用入口（启动 & 数据容器）
├─ ContentView.swift               // 主框架：左侧菜单 + 中间内容 + 右侧详情
│  ├─ ContentView                  // 主页面容器
│  ├─ MediaDetailView              // 素材详情页
│  ├─ ThumbnailView                // 素材列表缩略图
│  ├─ MediaCard                    // 网格卡片
│  ├─ WeekdayPicker/TimeRangePicker// 规则编辑组件
│  └─ Glass/Style 扩展              // 按钮/玻璃样式
│
├─ Views/
│  ├─ LibraryView.swift             // 素材库页面（列表/网格 + 搜索/筛选/批量操作）
│  ├─ AlbumsView.swift              // 相册页面（相册列表 + 相册详情）
│  ├─ RulesView.swift               // 规则页面（三栏：规则列表/摘要/配置）
│  ├─ SettingsView.swift            // 设置页面（开机自启、菜单栏、主题色等）
│  └─ MenuBarContentView.swift      // 菜单栏内容（显示主窗口/停止视频壁纸/退出）
│
├─ Models/
│  └─ MediaModels.swift             // 数据模型（MediaItem/Album/Rule/ScreenProfile/History）
│
├─ Services/
│  ├─ MediaImportService.swift      // 导入素材 & 元数据解析
│  ├─ MediaAccessService.swift      // 安全权限访问 & 预览/缩略图读取
│  ├─ WallpaperService.swift        // 图片壁纸设置
│  ├─ VideoWallpaperService.swift   // 视频壁纸播放（多屏）
│  ├─ RuleScheduler.swift           // 规则调度器（自动切换壁纸）
│  ├─ AutoLaunchService.swift       // 开机自启服务
│  ├─ ThumbnailCache.swift          // 缩略图缓存
│  ├─ ThemeColor.swift              // 主题色工具
│  └─ ScreenHelper.swift            // 屏幕工具（ID/选项）
│
└─ Assets.xcassets                  // 应用资源
```

## 页面与代码对应关系

### 1. 素材库页面
- `LibraryView`（中间栏）
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/Views/LibraryView.swift`
- 素材详情页面
  - `MediaDetailView`（右侧栏）
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/ContentView.swift`

### 2. 相册页面
- 相册列表
  - `AlbumsView`
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/Views/AlbumsView.swift`
- 相册详情
  - `AlbumDetailView`
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/Views/AlbumsView.swift`

### 3. 规则页面
- 规则列表（中间栏）
  - `RulesView`
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/Views/RulesView.swift`
- 规则详情（右侧栏）
  - `RuleDetailView`
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/Views/RulesView.swift`

### 4. 设置页面
- `SettingsView`
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/Views/SettingsView.swift`

### 5. 菜单栏页面
- `MenuBarContentView`
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/Views/MenuBarContentView.swift`

### 6. 主框架
- `ContentView`
  - 控制左侧菜单栏、中间栏、右侧详情栏
  - 文件：`/Users/wangpenglong/projects/swift/wallpaper/wallpaper/ContentView.swift`

---

如需继续补充（例如每个页面的子组件、数据流、依赖服务等），告诉我即可。
